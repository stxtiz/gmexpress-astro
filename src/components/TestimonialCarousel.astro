---
import TestimonialCard from "./TestimonialCard.astro";

const testimonials = [
  {
    text: '"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt."',
    name: "Ana Martínez",
    role: "Chef, Restaurante Sabor Andino",
    avatar: "https://lh3...Prt8Q8",
  },
  {
    text: '"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."',
    name: "Carlos Vega",
    role: "Dueño, Mercado Local",
    avatar: "https://lh3...KGlSj7bM4",
  },
  {
    text: '"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."',
    name: "Sofía Gómez",
    role: "Gerente de Compras, Hotel Pacífico",
    avatar: "https://lh3....ADAuV0",
  },
];
---

<div class="w-full overflow-hidden relative">
  <div id="carousel" class="flex gap-6 animate-scroll">
    {testimonials.map((testimonial) => <TestimonialCard {...testimonial} />)}
  </div>
</div>

<script>
  const carousel = document.getElementById("carousel");

  if (carousel) {
    const cards = Array.from(carousel.children);

    // Clonar tarjetas para el loop infinito real
    cards.forEach((card) => {
      const clone = card.cloneNode(true);
      carousel.appendChild(clone);
    });
  }
</script>
