---
/**
 * ============================================
 * GMEXPRESS - FILTRO DE CATEGORÍAS
 * ============================================
 *
 * Componente que renderiza botones de filtro por categoría.
 * Las categorías se cargan dinámicamente desde Firebase.
 */

interface Props {
  categories: { name: string }[];
  selectedCategory: string;
}

const { categories, selectedCategory } = Astro.props;
---

<div class="mb-8 flex items-center justify-center flex-wrap gap-2">
  <!-- Botón "Todos" siempre primero -->
  <a
    href="/productos"
    class={!selectedCategory
      ? "flex h-10 shrink-0 items-center justify-center gap-x-2 rounded-full bg-primary pl-4 pr-4 text-white"
      : "flex h-10 shrink-0 items-center justify-center gap-x-2 rounded-full bg-card-light dark:bg-card-dark pl-4 pr-4 border border-border-light dark:border-border-dark hover:bg-primary/10 dark:hover:bg-primary/20 hover:border-primary/50 text-text-light dark:text-text-dark"}
  >
    <p class="text-sm font-medium">Todos</p>
  </a>
  
  {/* Renderizar categorías dinámicas desde Firebase */}
  {categories.map((category) => (
    <a
      href={`/productos?categoria=${encodeURIComponent(category.name)}`}
      class={selectedCategory === category.name
        ? "flex h-10 shrink-0 items-center justify-center gap-x-2 rounded-full bg-primary pl-4 pr-4 text-white"
        : "flex h-10 shrink-0 items-center justify-center gap-x-2 rounded-full bg-card-light dark:bg-card-dark pl-4 pr-4 border border-border-light dark:border-border-dark hover:bg-primary/10 dark:hover:bg-primary/20 hover:border-primary/50 text-text-light dark:text-text-dark"}
    >
      <p class="text-sm font-medium">{category.name}</p>
    </a>
  ))}
</div>
